<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
      /* Styles for tabs */

      .tab.active {
        border-bottom: #858584 2px solid;
        padding-bottom: 4px;
        color: #fff;
      }

      /* Styles for items */
      .item {
        display: inline-block;
        width: 100px;
        height: 100px;
        margin: 10px;
        border-radius: 5px;
      }
    </style>
  </head>

  <body class="bg-[#2B2B2B] text-white">
    <header>
      <nav class="bg-white border-gray-200 dark:bg-[#2B2B2B]">
        <div
          class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4"
        >
          <a
            href="index.html"
            class="flex items-center space-x-3 rtl:space-x-reverse"
          >
            <img src="images/logo.png" class="h-8" alt="Flowbite Logo" />
            <span
              class="self-center text-2xl font-semibold whitespace-nowrap dark:text-white"
              >PVL Account Shop</span
            >
          </a>
          <button
            data-collapse-toggle="navbar-default"
            type="button"
            class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600"
            aria-controls="navbar-default"
            aria-expanded="false"
          >
            <span class="sr-only">Open main menu</span>
            <svg
              class="w-5 h-5"
              aria-hidden="true"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 17 14"
            >
              <path
                stroke="currentColor"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M1 1h15M1 7h15M1 13h15"
              />
            </svg>
          </button>
          <div class="hidden w-full md:block md:w-auto" id="navbar-default">
            <ul
              class="font-medium flex flex-col p-4 md:p-0 mt-4 border border-gray-100 rounded-lg bg-gray-50 md:flex-row md:space-x-8 rtl:space-x-reverse md:mt-0 md:border-0 md:bg-white dark:bg-[#2B2B2B] md:dark:bg-[#2B2B2B] dark:border-gray-700 items-center"
            >
              <li>
                <a
                  href="marketplace.html"
                  class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent"
                  >Marketplace</a
                >
              </li>
              <li>
                <a
                  href="about-us.html"
                  class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="contact-us.html"
                  class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent"
                  >Contact Us</a
                >
              </li>
              <li>
                <a
                  href="/checkout.html"
                  class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent"
                  >Cart</a
                >
              </li>
              <li>
                <a
                  href="/login.html"
                  class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent"
                >
                  <button
                    class="bg-gradient-to-r from-[#A259FF] to-[#FF6250] hover:from-pink-500 hover:to-orange-500 text-white font-bold py-3 px-8 rounded-[20px] shadow-md flex items-center gap-2"
                  >
                    <svg
                      width="20"
                      height="20"
                      viewBox="0 0 20 20"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M10 3.125C7.58375 3.125 5.625 5.08375 5.625 7.5C5.625 9.91625 7.58375 11.875 10 11.875C12.4162 11.875 14.375 9.91625 14.375 7.5C14.375 5.08375 12.4162 3.125 10 3.125ZM4.375 7.5C4.375 4.3934 6.8934 1.875 10 1.875C13.1066 1.875 15.625 4.3934 15.625 7.5C15.625 10.6066 13.1066 13.125 10 13.125C6.8934 13.125 4.375 10.6066 4.375 7.5Z"
                        fill="white"
                      />
                      <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M9.99998 13.1244C8.57362 13.1244 7.17239 13.4999 5.93716 14.2131C4.70193 14.9264 3.67622 15.9522 2.96315 17.1875C2.79059 17.4865 2.40836 17.5889 2.10941 17.4164C1.81046 17.2438 1.708 16.8616 1.88056 16.5626C2.70333 15.1373 3.88684 13.9536 5.31211 13.1306C6.73738 12.3077 8.35418 11.8744 9.99998 11.8744C11.6458 11.8744 13.2626 12.3077 14.6879 13.1306C16.1131 13.9536 17.2966 15.1373 18.1194 16.5626C18.292 16.8616 18.1895 17.2438 17.8906 17.4164C17.5916 17.5889 17.2094 17.4865 17.0368 17.1875C16.3237 15.9522 15.298 14.9264 14.0628 14.2131C12.8276 13.4999 11.4263 13.1244 9.99998 13.1244Z"
                        fill="white"
                      />
                    </svg>
                    Log in
                  </button>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </header>

    <main class="lg:px-40 md:px-20 px-4 py-5 mx-auto">
      <div id="top-search" class="flex flex-col gap-4">
        <h2 class="text-5xl font-semibold">Browse Marketplace</h2>
        <p class="text-xl">
          Browse through more than 240+ account types on the account
          marketplace.
        </p>
        <div id="search" class="w-full h-[60px] flex relative">
          <input
            type="text"
            id="searchInput"
            class="bg-transparent border border-solid border-[#3B3B3B] border-1 w-full h-full rounded-3xl"
          />
          <div id="svg" class="absolute right-4 top-4">
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M10.875 3.75C6.93997 3.75 3.75 6.93997 3.75 10.875C3.75 14.81 6.93997 18 10.875 18C14.81 18 18 14.81 18 10.875C18 6.93997 14.81 3.75 10.875 3.75ZM2.25 10.875C2.25 6.11154 6.11154 2.25 10.875 2.25C15.6385 2.25 19.5 6.11154 19.5 10.875C19.5 15.6385 15.6385 19.5 10.875 19.5C6.11154 19.5 2.25 15.6385 2.25 10.875Z"
                fill="white"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M15.9135 15.9133C16.2064 15.6204 16.6813 15.6204 16.9742 15.9133L21.5304 20.4695C21.8233 20.7624 21.8233 21.2373 21.5304 21.5302C21.2375 21.8231 20.7627 21.8231 20.4698 21.5302L15.9135 16.9739C15.6206 16.681 15.6206 16.2062 15.9135 15.9133Z"
                fill="white"
              />
            </svg>
          </div>
        </div>
      </div>

      <div id="top-tabs" class="py-20">
        <!-- <div id="tabs" class="flex w-full justify-center pb-5">
                <div class="tab active w-1/2 text-center hover:cursor-pointer" data-filter="all">All</div>
                <div class="tab w-1/2 text-center hover:cursor-pointer" data-filter="men's clothing">Men</div>
            </div> -->

        <div
          id="items"
          class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 justify-center"
        >
          <!-- Your product items here -->
        </div>

        <div class="flex justify-center mt-20">
          <button
            id="loadMoreBtn"
            type="button"
            class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"
          >
            Load More
          </button>
        </div>
      </div>
    </main>

    <footer class="bg-[#3B3B3B] mt-20">
      <div class="mx-auto w-full max-w-screen-xl p-4 py-6 lg:py-8">
        <div class="md:flex md:justify-between">
          <div class="flex sm:justify-center w-full gap-8 flex-wrap">
            <div class="w-full sm:w-fit">
              <img src="images/logo.png" class="size-12" alt="" />
              <p class="text-[#CCCCCC]">
                PVL Shop - The best place to get online accounts for cheap
              </p>
            </div>
            <div class="w-full sm:w-fit">
              <h2
                class="mb-6 text-sm font-semibold text-gray-900 uppercase dark:text-white"
              >
                Explore
              </h2>
              <ul
                class="text-gray-500 dark:text-gray-400 font-medium space-y-4"
              >
                <li>
                  <a href="/marketplace.html" class="hover:underline"
                    >Marketplace</a
                  >
                </li>
                <li class="">
                  <a href="#" class="hover:underline">How it works?</a>
                </li>

                <li>
                  <a href="#" class="hover:underline">Support</a>
                </li>
              </ul>
            </div>

            <div class="w-full sm:w-[370px]">
              <h2
                class="mb-6 text-sm font-semibold text-gray-900 uppercase dark:text-white"
              >
                Join our weekly digest
              </h2>
              <ul class="text-gray-500 dark:text-gray-400 font-medium">
                <li class="mb-4">
                  <a href="#" class="hover:underline"
                    >Get exclusive promotions & updates <br />
                    straight to your inbox.</a
                  >
                </li>
                <li>
                  <div class="sm:flex sm:relative">
                    <input
                      type="email"
                      name=""
                      id=""
                      placeholder="Enter your email here"
                      class="bg-white rounded-[20px] text-black py-3 w-56"
                    />
                    <button
                      class="bg-gradient-to-r from-[#A259FF] to-[#377DF7] hover:from-[#A259FF] hover:to-[#377DF7] text-white font-bold py-3 px-8 rounded-[20px] shadow-md flex items-center justify-center gap-2 sm:w-52 w-56 sm:absolute left-40"
                    >
                      <svg
                        width="20"
                        height="20"
                        viewBox="0 0 20 20"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          fill-rule="evenodd"
                          clip-rule="evenodd"
                          d="M1.875 4.375C1.875 4.02982 2.15482 3.75 2.5 3.75H17.5C17.8452 3.75 18.125 4.02982 18.125 4.375V15C18.125 15.3315 17.9933 15.6495 17.7589 15.8839C17.5245 16.1183 17.2065 16.25 16.875 16.25H3.125C2.79348 16.25 2.47554 16.1183 2.24112 15.8839C2.0067 15.6495 1.875 15.3315 1.875 15V4.375ZM3.125 5V15H16.875V5H3.125Z"
                          fill="white"
                        />
                        <path
                          fill-rule="evenodd"
                          clip-rule="evenodd"
                          d="M2.03928 3.95268C2.27253 3.69823 2.66788 3.68104 2.92233 3.91428L10 10.4021L17.0777 3.91428C17.3321 3.68104 17.7275 3.69823 17.9607 3.95268C18.194 4.20713 18.1768 4.60248 17.9223 4.83573L10.4223 11.7107C10.1834 11.9298 9.81663 11.9298 9.57768 11.7107L2.07768 4.83573C1.82323 4.60248 1.80604 4.20713 2.03928 3.95268Z"
                          fill="white"
                        />
                      </svg>

                      Subscribe
                    </button>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <hr
          class="my-6 border-gray-200 sm:mx-auto dark:border-gray-700 lg:my-8"
        />
        <div class="sm:flex sm:items-center sm:justify-between">
          <span class="text-sm text-gray-500 sm:text-center dark:text-gray-400"
            >â’¸ All rights reserved, PVL Shop
          </span>
          <div class="flex mt-4 sm:justify-center sm:mt-0">
            <a
              href="#"
              class="text-gray-500 hover:text-gray-900 dark:hover:text-white"
            >
              <svg
                class="w-4 h-4"
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                fill="currentColor"
                viewBox="0 0 8 19"
              >
                <path
                  fill-rule="evenodd"
                  d="M6.135 3H8V0H6.135a4.147 4.147 0 0 0-4.142 4.142V6H0v3h2v9.938h3V9h2.021l.592-3H5V3.591A.6.6 0 0 1 5.592 3h.543Z"
                  clip-rule="evenodd"
                />
              </svg>
              <span class="sr-only">Facebook page</span>
            </a>
            <a
              href="#"
              class="text-gray-500 hover:text-gray-900 dark:hover:text-white ms-5"
            >
              <svg
                class="w-4 h-4"
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                fill="currentColor"
                viewBox="0 0 21 16"
              >
                <path
                  d="M16.942 1.556a16.3 16.3 0 0 0-4.126-1.3 12.04 12.04 0 0 0-.529 1.1 15.175 15.175 0 0 0-4.573 0 11.585 11.585 0 0 0-.535-1.1 16.274 16.274 0 0 0-4.129 1.3A17.392 17.392 0 0 0 .182 13.218a15.785 15.785 0 0 0 4.963 2.521c.41-.564.773-1.16 1.084-1.785a10.63 10.63 0 0 1-1.706-.83c.143-.106.283-.217.418-.33a11.664 11.664 0 0 0 10.118 0c.137.113.277.224.418.33-.544.328-1.116.606-1.71.832a12.52 12.52 0 0 0 1.084 1.785 16.46 16.46 0 0 0 5.064-2.595 17.286 17.286 0 0 0-2.973-11.59ZM6.678 10.813a1.941 1.941 0 0 1-1.8-2.045 1.93 1.93 0 0 1 1.8-2.047 1.919 1.919 0 0 1 1.8 2.047 1.93 1.93 0 0 1-1.8 2.045Zm6.644 0a1.94 1.94 0 0 1-1.8-2.045 1.93 1.93 0 0 1 1.8-2.047 1.918 1.918 0 0 1 1.8 2.047 1.93 1.93 0 0 1-1.8 2.045Z"
                />
              </svg>
              <span class="sr-only">Discord community</span>
            </a>
            <a
              href="#"
              class="text-gray-500 hover:text-gray-900 dark:hover:text-white ms-5"
            >
              <svg
                class="w-4 h-4"
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                fill="currentColor"
                viewBox="0 0 20 17"
              >
                <path
                  fill-rule="evenodd"
                  d="M20 1.892a8.178 8.178 0 0 1-2.355.635 4.074 4.074 0 0 0 1.8-2.235 8.344 8.344 0 0 1-2.605.98A4.13 4.13 0 0 0 13.85 0a4.068 4.068 0 0 0-4.1 4.038 4 4 0 0 0 .105.919A11.705 11.705 0 0 1 1.4.734a4.006 4.006 0 0 0 1.268 5.392 4.165 4.165 0 0 1-1.859-.5v.05A4.057 4.057 0 0 0 4.1 9.635a4.19 4.19 0 0 1-1.856.07 4.108 4.108 0 0 0 3.831 2.807A8.36 8.36 0 0 1 0 14.184 11.732 11.732 0 0 0 6.291 16 11.502 11.502 0 0 0 17.964 4.5c0-.177 0-.35-.012-.523A8.143 8.143 0 0 0 20 1.892Z"
                  clip-rule="evenodd"
                />
              </svg>
              <span class="sr-only">Twitter page</span>
            </a>
            <a
              href="#"
              class="text-gray-500 hover:text-gray-900 dark:hover:text-white ms-5"
            >
              <svg
                class="w-4 h-4"
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                fill="currentColor"
                viewBox="0 0 20 20"
              >
                <path
                  fill-rule="evenodd"
                  d="M10 .333A9.911 9.911 0 0 0 6.866 19.65c.5.092.678-.215.678-.477 0-.237-.01-1.017-.014-1.845-2.757.6-3.338-1.169-3.338-1.169a2.627 2.627 0 0 0-1.1-1.451c-.9-.615.07-.6.07-.6a2.084 2.084 0 0 1 1.518 1.021 2.11 2.11 0 0 0 2.884.823c.044-.503.268-.973.63-1.325-2.2-.25-4.516-1.1-4.516-4.9A3.832 3.832 0 0 1 4.7 7.068a3.56 3.56 0 0 1 .095-2.623s.832-.266 2.726 1.016a9.409 9.409 0 0 1 4.962 0c1.89-1.282 2.717-1.016 2.717-1.016.366.83.402 1.768.1 2.623a3.827 3.827 0 0 1 1.02 2.659c0 3.807-2.319 4.644-4.525 4.889a2.366 2.366 0 0 1 .673 1.834c0 1.326-.012 2.394-.012 2.72 0 .263.18.572.681.475A9.911 9.911 0 0 0 10 .333Z"
                  clip-rule="evenodd"
                />
              </svg>
              <span class="sr-only">GitHub account</span>
            </a>
            <a
              href="#"
              class="text-gray-500 hover:text-gray-900 dark:hover:text-white ms-5"
            >
              <svg
                class="w-4 h-4"
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                fill="currentColor"
                viewBox="0 0 20 20"
              >
                <path
                  fill-rule="evenodd"
                  d="M10 0a10 10 0 1 0 10 10A10.009 10.009 0 0 0 10 0Zm6.613 4.614a8.523 8.523 0 0 1 1.93 5.32 20.094 20.094 0 0 0-5.949-.274c-.059-.149-.122-.292-.184-.441a23.879 23.879 0 0 0-.566-1.239 11.41 11.41 0 0 0 4.769-3.366ZM8 1.707a8.821 8.821 0 0 1 2-.238 8.5 8.5 0 0 1 5.664 2.152 9.608 9.608 0 0 1-4.476 3.087A45.758 45.758 0 0 0 8 1.707ZM1.642 8.262a8.57 8.57 0 0 1 4.73-5.981A53.998 53.998 0 0 1 9.54 7.222a32.078 32.078 0 0 1-7.9 1.04h.002Zm2.01 7.46a8.51 8.51 0 0 1-2.2-5.707v-.262a31.64 31.64 0 0 0 8.777-1.219c.243.477.477.964.692 1.449-.114.032-.227.067-.336.1a13.569 13.569 0 0 0-6.942 5.636l.009.003ZM10 18.556a8.508 8.508 0 0 1-5.243-1.8 11.717 11.717 0 0 1 6.7-5.332.509.509 0 0 1 .055-.02 35.65 35.65 0 0 1 1.819 6.476 8.476 8.476 0 0 1-3.331.676Zm4.772-1.462A37.232 37.232 0 0 0 13.113 11a12.513 12.513 0 0 1 5.321.364 8.56 8.56 0 0 1-3.66 5.73h-.002Z"
                  clip-rule="evenodd"
                />
              </svg>
              <span class="sr-only">Dribbble account</span>
            </a>
          </div>
        </div>
      </div>
    </footer>

    <!-- Open the modal using ID.showModal() method -->
    <dialog
      id="my_modal_1"
      class="modal sm:w-[500px] py-4 px-4 rounded-3xl bg-black text-white"
    >
      <div class="modal-box flex flex-col items-center justify-center">
        <h3 class="font-bold text-lg">Hello!</h3>
        <p class="py-4">Press ESC key or click the button below to close</p>
        <div class="modal-action">
          <form method="dialog">
            <!-- if there is a button in form, it will close the modal -->
            <button class="btn">Close</button>
          </form>
        </div>
      </div>
    </dialog>

    <script>
      // Function to truncate a string if it exceeds a certain length
      function truncateString(str, maxLength) {
        if (str.length > maxLength) {
          return str.slice(0, maxLength) + "...";
        } else {
          return str;
        }
      }

      const loadMoreBtn = document.getElementById("loadMoreBtn");
      let allProducts = []; // Store all products

      // Make AJAX call to FakeStore API
      fetch("/products.json")
        .then((response) => response.json())
        .then((products) => {
          console.log(products);
          const productsContainer = document.getElementById("items");

          allProducts = products; // Store all products

          initialProducts = products.slice(0, 3);

          // Loop through each product
          initialProducts.forEach((product, index) => {
            // Truncate the title if it exceeds 20 characters
            const truncatedTitle = truncateString(product.title, 20);

            // Create product element
            const productElement = document.createElement("div");
            productElement.className =
              "item w-[330px] h-[310px] flex flex-col mx-auto items-center hover:cursor-pointer";
            // productElement.setAttribute('data-category', product.category)
            productElement.setAttribute("data-category", product.category);
            productElement.innerHTML = `
                    <img src="${product.image}" class="h-48" alt="">

                    <div id="info" class="flex flex-col gap-2">
                        <h4 class="text-2xl font-semibold">${truncatedTitle}</h4>
                        <div class="flex items-center">
                            <img src="images/white-logo.png" alt="">
                            <p>${truncatedTitle}</p>
                        </div>
                        <div id="price" class="flex justify-between">
                            <div id="months">
                                <p class="text-xs font-normal text-[#858584]">Price 6 months</p>
                                <p>${product.price}</p>
                            </div>
                            <div id="months">
                                <p class="text-xs font-normal text-[#858584]">Price 6 months</p>
                                <p class="w-full text-end">${product.price}</p>
                            </div>
                        </div>
                    </div>
                  `;

            // Add click event listener to open modal
            productElement.addEventListener("click", () => {
              console.log("clicked modal");
              // Set modal content based on the clicked product
              const modal = document.getElementById("my_modal_1");
              modal.innerHTML = `

                          <div class="modal-box flex flex-col gap-4 items-center justify-center">
                            <h3 class="font-bold text-lg">${product.title}</h3>
                            <img src="${product.image}" alt="${product.title}" class="size-28">
                            <p class="py-4">Price: ${product.price}</p>
                            <p>${product.description}</p>
                            <div class="modal-action">
                              <form method="dialog">
                                <button class="btn text-gray-900 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-100 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700">Close</button>
                              </form>
                            </div>
                          </div>
                        `;
              modal.showModal(); // Open the modal
            });

            // Append product element to products container
            productsContainer.appendChild(productElement);
          });
        })
        .catch((error) => console.error("Error fetching products:", error));

      // Load more products when "Load More" button is clicked
      loadMoreBtn.addEventListener("click", () => {
        const remainingProducts = allProducts.slice(3); // Get remaining products

        // Loop through each product
        remainingProducts.forEach((product, index) => {
          const productsContainer = document.getElementById("items");
          // Truncate the title if it exceeds 20 characters
          const truncatedTitle = truncateString(product.title, 20);

          // Create product element
          const productElement = document.createElement("div");
          productElement.className =
            "item w-[330px] h-[310px] flex flex-col mx-auto items-center hover:cursor-pointer";
          // productElement.setAttribute('data-category', product.category)
          productElement.setAttribute("data-category", product.category);
          productElement.innerHTML = `
                    <img src="${product.image}" class="h-48" alt="">

                    <div id="info" class="flex flex-col gap-2">
                        <h4 class="text-2xl font-semibold">${truncatedTitle}</h4>
                        <div class="flex items-center">
                            <img src="images/white-logo.png" alt="">
                            <p>${truncatedTitle}</p>
                        </div>
                        <div id="price" class="flex justify-between">
                            <div id="months">
                                <p class="text-xs font-normal text-[#858584]">Price 6 months</p>
                                <p>${product.price}</p>
                            </div>
                            <div id="months">
                                <p class="text-xs font-normal text-[#858584]">Price 6 months</p>
                                <p class="w-full text-end">${product.price}</p>
                            </div>
                        </div>
                    </div>
                  `;

          // Add click event listener to open modal
          productElement.addEventListener("click", () => {
            console.log("clicked modal");
            // Set modal content based on the clicked product
            const modal = document.getElementById("my_modal_1");
            modal.innerHTML = `

                          <div class="modal-box flex flex-col gap-4 items-center justify-center">
                            <h3 class="font-bold text-lg">${product.title}</h3>
                            <img src="${product.image}" alt="${product.title}" class="size-28">
                            <p class="py-4">Price: ${product.price}</p>
                            <p>${product.description}</p>
                            <div class="modal-action">
                              <form method="dialog">
                                <button class="btn text-gray-900 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-100 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700">Close</button>
                              </form>
                            </div>
                          </div>
                        `;
            modal.showModal(); // Open the modal
          });

          // Append product element to products container
          productsContainer.appendChild(productElement);
        });
        loadMoreBtn.style.display = "none"; // Hide the button after loading all products
      });

      // Function to filter products based on search query
      function filterProducts(products, query) {
        return products.filter((product) =>
          product.title.toLowerCase().includes(query.toLowerCase())
        );
      }

      // Event listener for search input
      document
        .getElementById("searchInput")
        .addEventListener("input", function () {
          const searchQuery = this.value.trim(); // Get the search query
          loadMoreBtn.style.display = "none"; // Hide the button after loading all products
          fetch("/products.json")
            .then((response) => response.json())
            .then((products) => {
              const filteredProducts = filterProducts(products, searchQuery);
              renderProducts(filteredProducts); // Render filtered products
            })
            .catch((error) => console.error("Error fetching products:", error));
        });

      // Function to render products
      function renderProducts(products) {
        const productsContainer = document.getElementById("items");
        productsContainer.innerHTML = ""; // Clear previous products

        // Loop through each product
        products.forEach((product, index) => {
          // Truncate the title if it exceeds 20 characters
          const truncatedTitle = truncateString(product.title, 20);

          // Create product element
          const productElement = document.createElement("div");
          productElement.className =
            "item w-[330px] h-[310px] flex flex-col mx-auto items-center hover:cursor-pointer";
          productElement.setAttribute("data-category", "all");
          productElement.innerHTML = `
            <img src="${product.image}" class="h-48" alt="">
            <div id="info" class="flex flex-col gap-2">
                <h4 class="text-2xl font-semibold">${truncatedTitle}</h4>
                <div class="flex items-center">
                    <img src="images/white-logo.png" alt="">
                    <p>${truncatedTitle}</p>
                </div>
                <div id="price" class="flex justify-between">
                    <div id="months">
                        <p class="text-xs font-normal text-[#858584]">Price 6 months</p>
                        <p>${product.price}</p>
                    </div>
                    <div id="months">
                        <p class="text-xs font-normal text-[#858584]">Price 6 months</p>
                        <p class="w-full text-end">${product.price}</p>
                    </div>
                </div>
            </div>
        `;

          // Add click event listener to open modal
          productElement.addEventListener("click", () => {
            console.log("clicked modal");
            // Set modal content based on the clicked product
            const modal = document.getElementById("my_modal_1");
            modal.innerHTML = `
                <div class="modal-box flex flex-col gap-4 items-center justify-center">
                    <h3 class="font-bold text-lg">${product.title}</h3>
                    <img src="${product.image}" alt="${product.title}" class="size-28">
                    <p class="py-4">Price: ${product.price}</p>
                    <p>${product.description}</p>
                    <div class="modal-action">
                        <form method="dialog">
                            <button class="btn text-gray-900 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-100 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700">Close</button>
                        </form>
                    </div>
                </div>
            `;
            modal.showModal(); // Open the modal
          });

          // Append product element to products container
          productsContainer.appendChild(productElement);
        });
      }

      // Function to render products based on category
      function renderProductsByCategory(products, category) {
        const filteredProducts =
          category === "all"
            ? products
            : products.filter((product) => product.category === category);
        renderProducts(filteredProducts); // Render filtered products
      }

      // Event listener for tab clicks
      document.querySelectorAll(".tab").forEach((tab) => {
        tab.addEventListener("click", function () {
          // Remove 'active' class from all tabs
          document.querySelectorAll(".tab").forEach((tab) => {
            tab.classList.remove("active");
          });
          // Add 'active' class to the clicked tab
          this.classList.add("active");

          const selectedCategory = this.getAttribute("data-filter"); // Get the category from the tab
          fetch("/products.json")
            .then((response) => response.json())
            .then((products) => {
              renderProductsByCategory(products, selectedCategory); // Render products based on selected category
            })
            .catch((error) => console.error("Error fetching products:", error));
        });
      });

      document.addEventListener("DOMContentLoaded", function () {
        const tabs = document.querySelectorAll(".tab");
        const items = document.querySelectorAll(".item");

        tabs.forEach((tab) => {
          tab.addEventListener("click", () => {
            const filter = tab.dataset.filter;

            // Toggle active class on tabs
            tabs.forEach((t) => t.classList.remove("active"));
            tab.classList.add("active");

            // Show/hide items based on filter
            items.forEach((item) => {
              if (filter === "all" || item.dataset.category === filter) {
                item.style.display = "flex";
              } else {
                item.style.display = "none";
              }
            });
          });
        });
      });
    </script>
  </body>
</html>
